var Site = {};

Site.buildings = [
	{
		title: "BRIC Arts | Media House",
		time: "Monday, May 13<br>12:00 â€“ 1:00pm",
		architect: "Thomas W. Lamb (1918); renovation by Leeser Architecture",
		image: "images/BRIC_Exterior_temp.jpg",
		caption: "Image Credit: Courtesy of Leeser Architecture",
		link: "https://archtober.org",
		style:{ 
			size: "small",
			color: "#C028B9"
		},
		eventtype: "preview_building",
		category: "NYCxDesign Building of the Day Preview",
		description: "Leeser Architectureâ€™s renovation and expansion of an existing, under-utilized building involves two user groups: BRIC Arts | Media | Brooklyn and UrbanGlass. Leeser Architecture juggled complex programmatic demands and highly specific uses to create an open and accessible arts facility that invites the community inside to engage with the myriad of activities occurring within.The project includes a full renovation of the interior space to create new theaters, television broadcasting studios, art galleries, glass workshops, media labs, classrooms, administrative and operation offices, and support spaces.",
		registration: "https://aiany.secure.force.com/pmtx/evt__QuickEvent?id=a0b4N00002CIVxT"
	},
	{
		title: "Solomon R. Guggenheim Museum",
		time: "Tuesday, May 14<br>6:00 â€“ 7:00pm",
		architect: "Frank Lloyd Wright (1959)",
		image: "images/guggenheim.jpg",
		caption: "Image Credit: William Short. Â© Solomon R. Guggenheim Foundation, New York. All Rights Reserved.",
		link: "https://archtober.org",
		style:{ 
			size: "medium",
			color: "#FF4438"
		},
		eventtype: "preview_building",
		category: "NYCxDesign Building of the Day Preview",
		description: "An in-depth look at the design, construction and history of the iconic Frank Lloyd Wright-designed building. Ashley Mendelsohn, Assistant Curator of Architecture and Digital Initiatives, will give a tour that focuses on how the structure challenges curators, artists, and designers to reinvent the space anew for each exhibition.",
		registration: "https://aiany.secure.force.com/pmtx/evt__QuickEvent?id=a0b4N00002CIVxY"
	},
	{
		title: "Staten Island Lighthouse Museum",
		time: "Wednesday, May 15<br>6:00 â€“ 7:00pm",
		architect: "Alfred B. Mullett (1871)",
		image: "images/DJI_0046.JPG",
		caption: "Image Credit: Courtesy of the Staten Island Lighthouse Museum",
		link: "https://archtober.org",
		style:{ 
			size: "small",
			color: "#0082CA"
		},
		eventtype: "preview_building",
		category: "NYCxDesign Building of the Day Preview",
		description: "A three-minute walk from the Staten Island Ferry, the National Lighthouse Museum tour will explore the history of the seven remaining buildings from the United States Lighthouse Establishment era (1864-1939). Built for the Treasury Department of the US Government, these buildings housed lampists, blacksmiths, clerks, engineers, and inspectors that helped supply the nation's light stations. This tour will also cover how lighthouse engineering and design changed over time.",
		registration: "https://aiany.secure.force.com/pmtx/evt__QuickEvent?id=a0b4N00002CIVxi"
	},
	{
		title: "Workplace Wednesday: LEVENBETTS",
		time: "Wednesday, May 15<br>6:00 â€“ 8:00pm",
		architect: "",
		image: "images/David_Stella_Image.jpg",
		caption: "Image Credit: Square House, Â© Naho Kubota",
		link: "https://archtober.org",
		style:{ 
			size: "medium",
			color: "#D8CDCB"
		},
		eventtype: "workplace_wednesday",
		category: "NYCxDesign Workplace Wednesday Preview",
		description: "Archtoberâ€™s Workplace Wednesday program invites you to an exciting behind-the-scenes look at some of the most innovative architecture firms in NYC. This Workplace Wednesday we will be visiting LEVENBETTS!</p><p>LEVENBETTS was founded by David Leven and Stella Betts in 1997 and focuses on design at all scales including urban design, public architecture, houses and housing, commercial workspaces, exhibitions and furniture. The office employs a variety of methods to arrive at innovative solutions within the programs and sites of architecture. Central to our work is the idea of an architecture that engages its urban and or natural environment.",
		registration: "https://aiany.secure.force.com/pmtx/evt__QuickEvent?id=a0b4N00001o2hh7"
	},
	{
		title: "Noguchi Museum Renovation",
		time: "Thursday, May 16<br>12:00 â€“ 1:00pm",
		architect: "Isamu Noguchi (1985); renovation by Sage and Coombe Architects",
		image: "images/3-The-Noguchi-Museum-New-York-Area-14--photo-Nicholas-Knight.jpg",
		caption: "Image Credit: Nicholas Knight",
		link: "https://archtober.org",
		style:{ 
			size: "large",
			color: "#FF5100"
		},
		eventtype: "preview_building",
		category: "NYCxDesign Building of the Day Preview",
		description: "Sage and Coombe worked with the Noguchi Museum in Long Island City, Queens for more than a decade to renovate and modernize the historic building in three phases, affording the Museum accessibility, allowing it to remain open year-round, and bringing it to the rigorous standards of contemporary museums â€“ all while maintaining the unique character of the space. The renovation encompassed all areas of the Museum building and garden, with construction on the final phase completed in Spring 2016.",
		registration: "https://aiany.secure.force.com/pmtx/evt__QuickEvent?id=a0b4N00002CIVxn"
	},
	{
		title: "Bronx River Greenway River House",
		time: "Friday, May 17<br>11:00 â€“ 12:00pm",
		architect: "Kiss + Cathcart",
		image: "images/Construction_Image.jpg",
		caption: "Image Credit: Kiss + Cathcart",
		link: "https://archtober.org",
		style:{ 
			size: "medium",
			color: "#789904"
		},
		eventtype: "preview_building",
		category: "NYCxDesign Building of the Day Preview",
		description: "The Bronx River Greenway River House, nearing completion, is the base of operations for the Bronx River Greenway and the adjacent portion of the Bronx River. The Bronx River Alliance will occupy the building and manage it on behalf of the park, the public, and community groups. The Bronx River House will approach net-zero energy and will use rainwater-irrigated living facades to create a favorable microclimate. The project received a Design Award from the Art Commission of the City of New York.",
		registration: "https://aiany.secure.force.com/pmtx/evt__QuickEvent?id=a0b4N00002CIVxx"
	}
]

Site.callforbuidling = {
	title: "Call for Archtober Buildings of the Day",
	deadline: "Deadline: Friday, May 17",
	image: "images/archtober_building-of-the-day.jpg",
	description: "This Archtober, share your firmâ€™s New York City-based works with architecture enthusiasts! Archtober is accepting nominations for projects to be included in New York Cityâ€™s month-long festival of architecture and design.</p><p>Building of the Day tours are the centerpiece of Archtober. With the goal of making exemplary architecture and the work of architects more accessible to the general public, the lunchtime tours, led by project architects, generate international publicity and provide a platform for engagement in important issues in the New York City built environment.",
	link: "https://www.centerforarchitecture.org/news/call-for-archtober-buildings-of-the-day-2/"
}

Site.appendInfo = function(){

	Site.buildings.forEach(function(building, index){
//onmouseover="this.style.backgroundColor='${building.style.color}'" onmouseout="this.style.backgroundColor='#D8CDCB'"
		$("#arch_preview").append(`<li class="${building.eventtype} ${building.style.size}">
				<h5>${building.category}</h5>
				<h2>
					<a href="${building.registration}" target="_blank" style="background-color: ${building.style.color};">${building.title}</a>
				</h2>
				<h3>${building.time}</h3>
				<h4>${building.architect}</h4>
				<div class="building_content">
					<p>${building.description}</p>
					<p><a target="_blank" href="${building.registration}">Register</a></p>
				</div
				><div class="building_content">
					<img class="" src="${building.image}">
					<h5>${building.caption}</h5>
				</div>
			</li>`)

	})

	$("#arch_preview").append(`<li class="call_for_buildings">
		<h2>
			<a href="${Site.callforbuidling.link}">${Site.callforbuidling.title}</a>
		</h2>
		<h3>${Site.callforbuidling.deadline}</h3>
		<img src="${Site.callforbuidling.image}">
		<p>${Site.callforbuidling.description}</p>
		<p><a href="${Site.callforbuidling.link}" target="_blank">Learn More</a></p>
		</li>`)


}


Site.logoAnimation = function(){	
	// currently uses actual images instead of raw svg...
	var svgArray = [
		"silhouttes/archtober-silhoutte-bric-full.svg",
		"silhouttes/archtober-silhoutte-guggenheim-full.svg",
		"silhouttes/archtober-silhoutte-lighthouse-full.svg",
		"silhouttes/archtober-silhoutte-noguchi-full.svg",
		"silhouttes/archtober-silhoutte-bronx-full.svg"
	]

	var svgArrayOutlines = [
		"silhouttes/archtober-silhoutte-bric-outline.svg",
		"silhouttes/archtober-silhoutte-guggenheim-outline.svg",
		"silhouttes/archtober-silhoutte-lighthouse-outline.svg",
		"silhouttes/archtober-silhoutte-noguchi-outline.svg",
		"silhouttes/archtober-silhoutte-bronx-outline.svg"
	]

	var animationRunning = true;
	var animationCounter = 0;
	// initial animation
	var svgCycle = function(){

		$("#archtober_animation").css({"background-image" : "url(" + svgArray[animationCounter] + ")"})

		if(animationCounter < svgArray.length - 1){
			animationCounter++
		}else{
			animationCounter = 0
		}
	};
	var animationCycle = setInterval(svgCycle, 1000)

	$(window).on('scroll', function(event){
		var scrollPosition = $(window).scrollTop();
		// if scroll position is before the last element (i.e. someone scrolled back to top)

		if(scrollPosition + ($(window).innerHeight()/2) < $(".preview_building").first().offset().top && animationRunning != true){
			animationCycle = setInterval(svgCycle, 1000);
			animationRunning = true;
		}

		$(".preview_building").each(function(){
			if(scrollPosition + ($(window).innerHeight()/2) > $(this).offset().top){
				// if this element is more than halfway across the current window
				if(animationRunning){
					clearInterval(animationCycle)
					animationRunning = false;
				}

				if($(this).index() > svgArray.length - 1){
					$("#archtober_animation").css({"background-image" : "url(" + svgArrayOutlines[svgArray.length - 1] + ")"})
				}else{
					$("#archtober_animation").css({"background-image" : "url(" + svgArrayOutlines[$(this).index()] + ")"})
				}
			}
		})
	})

}

$(document).ready(function(){
	console.log("Archtober 2019 ðŸ‘€ \n By Small Stuff + Lukas Eigler-Harding")
	Site.logoAnimation()
	Site.appendInfo()
})